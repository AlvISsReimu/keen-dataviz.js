<!DOCTYPE html>
<html>
  <head>
    <title>Keen Dataviz Themes | Keen</title>
    <link rel="stylesheet" type="text/css" href="https://cloud.typography.com/737368/747986/css/fonts.css" />
    <link rel="stylesheet" href="./assets/demo-styles.css" />

    <!-- Dataviz dependencies -->
    <link href="https://cdn.jsdelivr.net/npm/keen-dataviz@3/dist/keen-dataviz.min.css" rel="stylesheet" />
    <script crossorigin src="https://cdn.jsdelivr.net/npm/keen-dataviz@3/dist/keen-dataviz.min.js"></script>

    <script src="./assets/faker.js"></script>

    <!-- THEMES -->
    <link rel="stylesheet" href="./themes/default.css" />
    <link rel="stylesheet" href="./themes/dashboard.css" />
    <link rel="stylesheet" href="./themes/dark.css" />
  </head>
  <body class="demo-theme-default">

    <div id="theme-selector">
      <div class="selector-container">
        <label class="keen-ui-label" for="dataviz-theme-selector">
          Select a theme
        </label>
        <div class="keen-ui-select">
          <select id="dataviz-theme-selector">
            <option value="default">Default</option>
            <option value="dashboard">Dashboard</option>
            <option value="dark">Dark</option>
          </select>
        </div>
      </div>
      <div class="selector-container">
        <label class="keen-ui-label" for="dataviz-theme-selector">
          Select a color palette
        </label>
        <div class="keen-ui-select">
          <select id="dataviz-palette-selector">
            <option value="default">Default</option>
            <option value="autocollector">AutoCollector's</option>
            <option value="modern">Modern</option>
            <option value="dracula">Dracula</option>
          </select>
        </div>
      </div>
    </div>

    <div class="container">
      <h1>Keen-Dataviz Themes</h1>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <h2>Line Chart</h2>
          <div class="chart-c3-line-time-multi chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6" id="nested">
          <h2>Metric</h2>
          <div class="chart-demo-metric chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-6" id="nested">
          <h2>Metric with previous values</h2>
          <div class="chart-demo-metric-previous-results chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <h2>Funnel</h2>
          <div class="chart-funnel chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-6" id="nested">
          <h2>Funnel 3D</h2>
          <div class="chart-funnel-3d chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-6">
          <h2>Horizontal funnel</h2>
          <div class="chart-horizontal-funnel chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-6" id="nested">
          <h2>Horizontal funnel 3D</h2>
          <div class="chart-horizontal-funnel-3d chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-8">
          <h2>Area Chart</h2>
          <div class="chart-c3-area-time-multi chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Donut Chart</h2>
          <div class="chart-c3-donut chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-8">
          <h2>Spline Chart</h2>
          <div class="chart-c3-spline-time-multi chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Gauge</h2>
          <div class="chart-c3-gauge chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-8">
          <h2>Step Chart</h2>
          <div class="chart-c3-step-time-multi chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Pie Chart</h2>
          <div class="chart-c3-pie chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-8">
          <h2>Area-Spline Chart</h2>
          <div class="chart-c3-area-spline-time-multi chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Bar Chart</h2>
          <div class="chart-c3-bar-multi chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-8">
          <h2>Area-Step Chart</h2>
          <div class="chart-c3-area-step-time-multi chart-standard-height"></div>
        </div>
        <div class="keen-ui-col-4">
          <h2>Horizontal Bar Chart</h2>
          <div class="chart-c3-bar-stacked chart-standard-height"></div>
        </div>
      </div>

      <div class="keen-ui-row">
        <div class="keen-ui-col-12">
          <h2>Table</h2>
          <div class="chart-demo-table chart-standard-height"></div>
        </div>
      </div>

    </div>

    <script>

      let lightColors = [
        '#00bbde', '#fe6672', '#eeb058', '#8a8ad6', '#ff855c', '#00cfbb',
        '#5a9eed', '#73d483', '#c879bb', '#0099b6', '#d74d58', '#cb9141',
        '#6b6bb6', '#d86945', '#00aa99', '#4281c9', '#57b566', '#ac5c9e',
        '#27cceb', '#ff818b', '#f6bf71', '#9b9be1', '#ff9b79', '#26dfcd',
        '#73aff4', '#87e096', '#d88bcb',
      ];

      function shadeColor(color, percent) {

        var R = parseInt(color.substring(1,3),16);
        var G = parseInt(color.substring(3,5),16);
        var B = parseInt(color.substring(5,7),16);

        R = parseInt(R * (100 + percent) / 100);
        G = parseInt(G * (100 + percent) / 100);
        B = parseInt(B * (100 + percent) / 100);

        R = (R<255)?R:255;  
        G = (G<255)?G:255;  
        B = (B<255)?B:255;  

        var RR = ((R.toString(16).length==1)?"0"+R.toString(16):R.toString(16));
        var GG = ((G.toString(16).length==1)?"0"+G.toString(16):G.toString(16));
        var BB = ((B.toString(16).length==1)?"0"+B.toString(16):B.toString(16));

        return "#"+RR+GG+BB;
      }

      // const darkColors = lightColors.map((d) => {
      //   return shadeColor(d, -30);
      // });
      
      const darkColors = [
        "#00829b", "#b1474f", "#a67b3d", "#606095", "#b25d40", "#009082", 
        "#3f6ea5", "#50945b", "#8c5482", "#006b7f", "#96353d", "#8e652d", 
        "#4a4a7f", "#974930", "#00776b", "#2e5a8c", "#3c7e47", "#78406e", 
        "#1b8ea4", "#b25a61", "#ac854f", "#6c6c9d", "#b26c54", "#1a9c8f", 
        "#507aaa", "#5e9c69", "#97618e"]
      
      let themeSelection = '';
      let colors = lightColors;

      const RAND_DATA_MAX = 10;

      function rand(a, b){
        return Math.floor((Math.random() * b) + a);
      }
      function gen(n){
        var arr = [ faker.internet.exampleEmail() ];
        for (var i = 0; i < n; i++) {
          arr.push(rand(0, 1000));
        }
        return arr;
      }

      var metricData = [
        [ 'Index', 'Value' ],
        [ 'Result', 24502 ]
      ];

      const results = { result: 24501 };
      const previousResults = { result: 20000 };

      var gaugeData = [
        [ 'Index', 'Value' ],
        [ 'Result', 77.5 ]
      ];

      var groupedData = [
        [ 'Index', 'Result' ],
        [ faker.internet.url(), faker.internet.exampleEmail(), faker.internet.exampleEmail(), 189.98 ],
        [ faker.internet.url(), 135.83 ],
        [ faker.internet.url(), 124.56 ],
        [ faker.internet.url(), 117.22 ],
        [ faker.internet.url(), 55.12  ]
      ];

      function makeGroupedDataset(){
        var ds = new Dataset();
        var len = rand(0, RAND_DATA_MAX);
        for (var i = 0; i < len; i++) {
          ds.appendRow(faker.internet.email(), [faker.random.number()]);
        }
        // ds.appendRow('null', [faker.random.number()]);
        return ds;
      }

      const groupedDataset = makeGroupedDataset();

      function makeGroupedIntervalDataset(){
        var ds = new Dataset();
        ds.matrix = [
          [ 'Index' ],
          [ '2015-12-01T10:56:00.000Z' ],
          [ '2015-12-01T10:57:00.000Z' ],
          [ '2015-12-01T10:58:00.000Z' ],
          [ '2015-12-01T10:59:00.000Z' ],
          [ '2015-12-01T11:00:00.000Z' ]
        ];

        var len = ds.selectColumn(0).length;
        for (var i = 0; i < RAND_DATA_MAX; i++) {
          var newCol = gen(len-1);
          if (i > 0) {
            ds.appendColumn(newCol[0], newCol.slice(1));
          }
          else {
            // Inject a null value
            ds.appendColumn('null', newCol.slice(1));
          }
        }
        return ds;
      }

      var groupedMultiData = [
        [ 'Index', faker.internet.url(), faker.internet.url(), faker.internet.url()],
        [ 'A', 189.98, 322.43, 654.44 ],
        [ 'B', 135.83, 564.21, 622.12 ],
        [ 'C', 124.56, 611.23, 432.11 ],
        [ 'D', 117.22, 434.37, 488.12 ],
        [ 'E', 55.12, 212.44, 323.55  ]
      ];

      var intervalData = [
        [ 'Index', 'Result' ],
        [ '2014-12-01T00:00:00.000Z', 189.98 ],
        [ '2015-01-01T00:00:00.000Z', 135.83 ],
        [ '2015-02-01T00:00:00.000Z', 124.56 ],
        [ '2015-03-01T00:00:00.000Z', 117.22 ],
        [ '2015-04-01T00:00:00.000Z', 55.12  ]
      ];

      var intervalMultiData = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2014-12-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-01-01T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-02-01T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-03-01T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-04-01T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Yearly dataset

      var intervalDataYearly = [
        [ 'Index', 'Result' ],
        [ '2011-01-01T00:00:00.000Z', 189.98 ],
        [ '2012-01-01T00:00:00.000Z', 135.83 ],
        [ '2013-01-01T00:00:00.000Z', 124.56 ],
        [ '2014-01-01T00:00:00.000Z', 117.22 ],
        [ '2015-01-01T00:00:00.000Z', 55.12  ]
      ];

      var intervalMultiDataYearly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2011-01-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2012-01-01T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2013-01-01T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2014-01-01T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-01-01T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      // Secondly dataset

      var intervalDataSecondly = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:59:56.000Z', 189.98 ],
        [ '2015-12-01T10:59:57.000Z', 135.83 ],
        [ '2015-12-01T10:59:58.000Z', 124.56 ],
        [ '2015-12-01T10:59:59.000Z', 117.22 ],
        [ '2015-12-01T11:00:00.000Z', 55.12  ]
      ];

      var intervalMultiDataSecondly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:59:56.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T10:59:57.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T10:59:58.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T10:59:59.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T11:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      // Minutely dataset

      var intervalDataMinutely = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:56:00.000Z', 189.98 ],
        [ '2015-12-01T10:57:00.000Z', 135.83 ],
        [ '2015-12-01T10:58:00.000Z', 124.56 ],
        [ '2015-12-01T10:59:00.000Z', 117.22 ],
        [ '2015-12-01T11:00:00.000Z', 55.12  ]
      ];

      var intervalMultiDataMinutely = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:56:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T10:57:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T10:58:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T10:59:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T11:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Hourly dataset

      var intervalDataHourly = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T10:00:00.000Z', 189.98 ],
        [ '2015-12-01T11:00:00.000Z', 135.83 ],
        [ '2015-12-01T12:00:00.000Z', 124.56 ],
        [ '2015-12-01T13:00:00.000Z', 117.22 ],
        [ '2015-12-01T14:00:00.000Z', 55.12  ]
      ];

      var intervalMultiDataHourly = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T10:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-01T11:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-01T12:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-01T13:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-01T14:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];


      // Daily dataset

      var intervalDataDaily = [
        [ 'Index', 'Result' ],
        [ '2015-12-01T00:00:00.000Z', 189.98 ],
        [ '2015-12-02T00:00:00.000Z', 135.83 ],
        [ '2015-12-03T00:00:00.000Z', 124.56 ],
        [ '2015-12-04T00:00:00.000Z', 117.22 ],
        [ '2015-12-05T00:00:00.000Z', 55.12  ]
      ];

      var intervalMultiDataDaily = [
        [ 'Index', faker.internet.exampleEmail(), faker.internet.exampleEmail(), faker.internet.exampleEmail() ],
        [ '2015-12-01T00:00:00.000Z', 189.98, 322.43, 654.44 ],
        [ '2015-12-02T00:00:00.000Z', 135.83, 564.21, 622.12 ],
        [ '2015-12-03T00:00:00.000Z', 124.56, 611.23, 432.11 ],
        [ '2015-12-04T00:00:00.000Z', 117.22, 434.37, 488.12 ],
        [ '2015-12-05T00:00:00.000Z', 55.12, 212.44, 323.55  ]
      ];

      var tableData = [
        [ 'Index', 'First', 'Second', 'Another', 'Fourth', 'Fifth', 'Last' ],
        [ '2015-12-01T00:00:00.000Z', 189.98, 322.43, 654.44, 189.98, 322.43, 654.44 ],
        [ '2015-12-02T00:00:00.000Z', 135.83, 564.21, 622.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-03T00:00:00.000Z', 124.56, 611.23, 432.11, 189.98, 322.43, 654.44 ],
        [ '2015-12-04T00:00:00.000Z', 117.22, 434.37, 488.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-05T00:00:00.000Z', 55.12, 212.44, 323.55, 189.98, 322.43, 654.44  ],
        [ '2015-12-01T00:00:00.000Z', 189.98, 322.43, 654.44, 189.98, 322.43, 654.44 ],
        [ '2015-12-02T00:00:00.000Z', 135.83, 564.21, 622.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-03T00:00:00.000Z', 124.56, 611.23, 432.11, 189.98, 322.43, 654.44 ],
        [ '2015-12-04T00:00:00.000Z', 117.22, 434.37, 488.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-05T00:00:00.000Z', 55.12, 212.44, 323.55, 189.98, 322.43, 654.44  ],
        [ '2015-12-01T00:00:00.000Z', 189.98, 322.43, 654.44, 189.98, 322.43, 654.44 ],
        [ '2015-12-02T00:00:00.000Z', 135.83, 564.21, 622.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-03T00:00:00.000Z', 124.56, 611.23, 432.11, 189.98, 322.43, 654.44 ],
        [ '2015-12-04T00:00:00.000Z', 117.22, 434.37, 488.12, 189.98, 322.43, 654.44 ],
        [ '2015-12-05T00:00:00.000Z', 55.12, 212.44, 323.55, 189.98, 322.43, 654.44  ]
      ];

      const funnelData = {
          result: [ 98730, 67680, 22150, 9090 ],
          steps: [
              { event_collection: "create_account" },
              { event_collection: "complete_profile" },
              { event_collection: "create_project" },
              { event_collection: "invite_teammate" }
          ]
      };
      const funnelData3d = {
          result: [ 1000, 800, 600, 400, 300 ],
          steps: [
              { event_collection: "started_video" },
              { event_collection: "twenty_five_percent" },
              { event_collection: "fifty_percent" },
              { event_collection: "seventy_five_percent" },
              { event_collection: "finish_video" }
          ]
      };
      const horizontalFunnelData = {
          result: [ 23654, 15289, 10430, 5380 ],
          steps: [
              { event_collection: "purchased_device" },
              { event_collection: "activated_device" },
              { event_collection: "first_session" },
              { event_collection: "invite_friend" }
          ]
      };
      const horizontalFunnelData3d = {
          result: [ 10000, 7000, 5500, 3500 ],
          steps: [
              { event_collection: "site_visits" },
              { event_collection: "seen_ads" },
              { event_collection: "clicked_ads" },
              { event_collection: "purchased_product" }
          ]
      };

      const paletteSelector = document.getElementById('dataviz-palette-selector');
      let palette;
      paletteSelector.onchange = function(e){
        if (e.target.value === 'default') {
          palette = undefined;
        } else {
          palette = e.target.value;
        }
        renderCharts();
      }

      const themeSelector = document.getElementById('dataviz-theme-selector');
      themeSelector.onchange = function(e){
        document.body.className = 'demo-theme-' + e.target.value;
        themeSelection = e.target.value;
      
        if(themeSelection === 'dark'){
          colors = darkColors;
        } else {
          colors = lightColors;
        }
        renderCharts();
      };

    renderCharts();

    function renderCharts(){
      window.metric = new KeenDataviz({
        container: '#nested .chart-demo-metric',
        type: 'metric',
        title: 'High-fives today',
        results,
        palette,
      });
      const metricBox = document.querySelector('#nested .chart-demo-metric .keen-dataviz-metric');
      metricBox.style.background = window.metric.config.colors[0];

      window.metricPreviousResults = new KeenDataviz({
        container: '#nested .chart-demo-metric-previous-results',
        type: 'metric',
        title: 'High-fives today',
        results,
        previousResults,
        palette,
      });

      window.table = new KeenDataviz({
        container: '.chart-demo-table',
        type: 'table',
        title: 'Basic table view',
        palette,
      })
      .call(function(){
          this.dataset.matrix = tableData;
      })
      .render();

      window.gauge = new KeenDataviz({
        container: '.chart-c3-gauge',
        title: 'Percentage of awesome',
        type: 'gauge',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = gaugeData;
      })
      .render();

      window.donut = new KeenDataviz({
        container: '.chart-c3-donut',
        title: 'Mmmm, donuts...',
        type: 'donut',
        sortGroups: 'desc',
        colors,
        palette,
        results: groupedDataset
      });
      
      window.pie = new KeenDataviz({
        container: '.chart-c3-pie',
        title: 'Mmmm, pie...',
        type: 'pie',
        colors,
        palette,
        sortGroups: 'desc',
        results: groupedDataset
      });

      // -------------------------
      // BAR
      // -------------------------

      window.barMulti = new KeenDataviz({
        container: '.chart-c3-bar-multi',
        title: false,
        type: 'bar',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = groupedMultiData;
      })
      .render();

      window.barMultiStacked = new KeenDataviz({
        container: '.chart-c3-bar-stacked',
        title: false,
        type: 'horizontal-bar',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = groupedMultiData;
      })
      .render();

      // -------------------------
      // END BAR
      // -------------------------

      // -------------------------
      // FUNNELS
      // -------------------------

      window.funnel = new KeenDataviz({
          container: '.chart-funnel',
          type: 'funnel',
          title: 'User actions',
          labelMapping: {
            'create_account': 'Create account',
            'complete_profile': 'Complete profile',
            'create_project': 'Create project',
            'invite_teammate': 'Invite teammate'
          },
          funnel: {
            percents: {
              show: true,
            }
          },
          colors,
          palette,
          results: funnelData,
        });

      window.funnel = new KeenDataviz({
          container: '.chart-funnel-3d',
          type: 'funnel-3d',
          title: 'Film views',
          labelMapping: {
            'started_video': 'Started video',
            'twenty_five_percent': '25 percent',
            'fifty_percent': '50 percent',
            'seventy_five_percent': '75 percent',
            'finish_video': 'Finished video'
          },
          funnel: {
            lines: false,
            percents: {
              show: true,
            },
            resultValues: false
          },
          colors,
          palette,
          results: funnelData3d,
        });

      window.funnel = new KeenDataviz({
          container: '.chart-horizontal-funnel',
          type: 'horizontal-funnel',
          title: 'Purchases',
          labelMapping: {
            'purchased_device': 'Purchased Device',
            'activated_device': 'Activated Device',
            'first_session': 'First Session',
            'invite_friend': 'Invite Friend'
          },
          colors,
          palette,
          results: horizontalFunnelData,
        });
        
      window.funnel = new KeenDataviz({
          container: '.chart-horizontal-funnel-3d',
          type: 'horizontal-funnel-3d',
          title: 'Actions and purchases',
          labelMapping: {
            'site_visits': 'Site visits',
            'seen_ads': 'Seen ads',
            'clicked_ads': 'Clicked ads',
            'purchased_product': 'Purchased product'
          },
          funnel: {
            lines: false,
            percents: {
              show: true,
              decimals: 1,
            },
            resultValues: false,
          },
          colors,
          palette,
          results: horizontalFunnelData3d,
        });

      // -------------------------
      // LINE
      // -------------------------

      window.lineTimeMulti = new KeenDataviz({
        container: '.chart-c3-line-time-multi',
        title: false,
        type: 'line',
        stacked: false,
        sortGroups: 'desc',
        colors,
        palette,
        results: makeGroupedIntervalDataset()
      });

      // -------------------------
      // SPLINE
      // -------------------------

      window.splineTimeMulti = new KeenDataviz({
        container: '.chart-c3-spline-time-multi',
        title: false,
        type: 'spline',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = intervalMultiDataHourly;
      })
      .render();

      // -------------------------
      // AREA
      // -------------------------

      window.areaTimeMulti = new KeenDataviz({
        container: '.chart-c3-area-time-multi',
        title: false,
        type: 'area',
        colors,
        palette,
      })
      .data(makeGroupedIntervalDataset())
      .render();

      // -------------------------
      // AREA-SPLINE
      // -------------------------

      window.areaSplineTimeMulti = new KeenDataviz({
        container: '.chart-c3-area-spline-time-multi',
        title: false,
        type: 'area-spline',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = intervalMultiDataSecondly;
      })
      .render();

      // -------------------------
      // AREA-STEP
      // -------------------------

      window.areaStepTimeMulti = new KeenDataviz({
        container: '.chart-c3-area-step-time-multi',
        title: false,
        type: 'area-step',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = intervalMultiData;
      })
      .render();

      // -------------------------
      // STEP
      // -------------------------

      window.stepTimeMulti = new KeenDataviz({
        container: '.chart-c3-step-time-multi',
        title: false,
        type: 'step',
        colors,
        palette,
      })
      .call(function(){
        this.dataset.matrix = intervalMultiData;
      })
      .render();

    };

    </script>
  </body>
</html>
